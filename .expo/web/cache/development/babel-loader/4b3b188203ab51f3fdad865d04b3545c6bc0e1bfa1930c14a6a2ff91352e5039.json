{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { doc, getFirestore, collection, getDocs, addDoc, updateDoc, deleteDoc, where, query, getDoc, arrayUnion } from 'firebase/firestore/lite';\nimport { db } from \"./firebase.js\";\nexport function getPetsByEmail(_x) {\n  return _getPetsByEmail.apply(this, arguments);\n}\nfunction _getPetsByEmail() {\n  _getPetsByEmail = _asyncToGenerator(function* (email) {\n    var petsQuery = query(collection(db, \"pets\"), where(\"tutors\", \"array-contains\", email));\n    var petsSnapshot = yield getDocs(petsQuery);\n    var petsList = petsSnapshot.docs.map(function (doc) {\n      return _objectSpread(_objectSpread({}, doc.data()), {}, {\n        id: doc.id\n      });\n    });\n    return petsList;\n  });\n  return _getPetsByEmail.apply(this, arguments);\n}\nexport function getPetById(_x2) {\n  return _getPetById.apply(this, arguments);\n}\nfunction _getPetById() {\n  _getPetById = _asyncToGenerator(function* (id) {\n    var petDocRef = doc(db, \"pets\", id);\n    var petDocSnapshot = yield getDoc(petDocRef);\n    if (petDocSnapshot.exists()) {\n      var petData = petDocSnapshot.data();\n      var pet = _objectSpread(_objectSpread({}, petData), {}, {\n        id: petDocSnapshot.id\n      });\n      return pet;\n    } else {\n      return null;\n    }\n  });\n  return _getPetById.apply(this, arguments);\n}\nexport function addMedicationToPet(_x3, _x4) {\n  return _addMedicationToPet.apply(this, arguments);\n}\nfunction _addMedicationToPet() {\n  _addMedicationToPet = _asyncToGenerator(function* (petId, medicationData) {\n    var petRef = doc(db, \"pets\", petId);\n    try {\n      yield updateDoc(petRef, {\n        medicines: arrayUnion(medicationData)\n      });\n    } catch (error) {\n      console.error(\"Erro ao adicionar medicação ao pet:\", error);\n    }\n  });\n  return _addMedicationToPet.apply(this, arguments);\n}\nexport function addVaccineToPet(_x5, _x6) {\n  return _addVaccineToPet.apply(this, arguments);\n}\nfunction _addVaccineToPet() {\n  _addVaccineToPet = _asyncToGenerator(function* (petId, vaccineData) {\n    var petRef = doc(db, \"pets\", petId);\n    try {\n      yield updateDoc(petRef, {\n        vaccines: arrayUnion(vaccineData)\n      });\n    } catch (error) {\n      console.error(\"Erro ao adicionar vacina ao pet:\", error);\n    }\n  });\n  return _addVaccineToPet.apply(this, arguments);\n}\nexport function addPet(_x7) {\n  return _addPet.apply(this, arguments);\n}\nfunction _addPet() {\n  _addPet = _asyncToGenerator(function* (petData) {\n    try {\n      var newPetRef = yield addDoc(collection(db, \"pets\"), petData);\n      return newPetRef.id;\n    } catch (error) {\n      return error;\n    }\n  });\n  return _addPet.apply(this, arguments);\n}\nexport function updatePet(_x8, _x9) {\n  return _updatePet.apply(this, arguments);\n}\nfunction _updatePet() {\n  _updatePet = _asyncToGenerator(function* (petId, updatedPetData) {\n    var petRef = doc(db, \"pets\", petId);\n    yield updateDoc(petRef, updatedPetData);\n  });\n  return _updatePet.apply(this, arguments);\n}\nexport function deletePet(_x10) {\n  return _deletePet.apply(this, arguments);\n}\nfunction _deletePet() {\n  _deletePet = _asyncToGenerator(function* (petId) {\n    var petRef = doc(db, \"pets\", petId);\n    yield deleteDoc(petRef);\n  });\n  return _deletePet.apply(this, arguments);\n}","map":{"version":3,"names":["doc","getFirestore","collection","getDocs","addDoc","updateDoc","deleteDoc","where","query","getDoc","arrayUnion","db","getPetsByEmail","_x","_getPetsByEmail","apply","arguments","_asyncToGenerator","email","petsQuery","petsSnapshot","petsList","docs","map","_objectSpread","data","id","getPetById","_x2","_getPetById","petDocRef","petDocSnapshot","exists","petData","pet","addMedicationToPet","_x3","_x4","_addMedicationToPet","petId","medicationData","petRef","medicines","error","console","addVaccineToPet","_x5","_x6","_addVaccineToPet","vaccineData","vaccines","addPet","_x7","_addPet","newPetRef","updatePet","_x8","_x9","_updatePet","updatedPetData","deletePet","_x10","_deletePet"],"sources":["C:/Users/Sahui/Desktop/projeto 2/pet.ly/services/pets.js"],"sourcesContent":["import { doc, getFirestore, collection, getDocs, addDoc, updateDoc, deleteDoc, where, query, getDoc, arrayUnion } from 'firebase/firestore/lite';\r\nimport { db } from \"./firebase.js\";\r\n\r\n// Função para obter uma lista de pets pelo email do tutor\r\nexport async function getPetsByEmail(email) {\r\n    const petsQuery = query(collection(db, \"pets\"), where(\"tutors\", \"array-contains\", email));\r\n    const petsSnapshot = await getDocs(petsQuery);\r\n    const petsList = petsSnapshot.docs.map(doc => ({ ... doc.data(), id: doc.id}));\r\n    return petsList;\r\n}\r\n\r\nexport async function getPetById(id) {\r\n    const petDocRef = doc(db, \"pets\", id);\r\n    const petDocSnapshot = await getDoc(petDocRef);\r\n\r\n    if (petDocSnapshot.exists()) {\r\n        const petData = petDocSnapshot.data();\r\n        const pet = { ...petData, id: petDocSnapshot.id };\r\n        return pet;\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n\r\nexport async function addMedicationToPet(petId, medicationData) {\r\n    const petRef = doc(db, \"pets\", petId);\r\n  \r\n    try {\r\n      await updateDoc(petRef, {\r\n        medicines: arrayUnion(medicationData)\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Erro ao adicionar medicação ao pet:\", error);\r\n    }\r\n}\r\n\r\nexport async function addVaccineToPet(petId, vaccineData) {\r\n    const petRef = doc(db, \"pets\", petId);\r\n  \r\n    try {\r\n      await updateDoc(petRef, {\r\n        vaccines: arrayUnion(vaccineData)\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Erro ao adicionar vacina ao pet:\", error);\r\n    }\r\n}\r\n\r\n// Função para adicionar um novo pet\r\nexport async function addPet(petData) {\r\n    try{\r\n        const newPetRef = await addDoc(collection(db, \"pets\"), petData);\r\n        return newPetRef.id;\r\n    }catch(error){\r\n        return error\r\n    }    \r\n}\r\n\r\n// Função para atualizar os dados de um pet\r\nexport async function updatePet(petId, updatedPetData) {\r\n    const petRef = doc(db, \"pets\", petId);\r\n    await updateDoc(petRef, updatedPetData);\r\n}\r\n\r\n// Função para excluir um pet\r\nexport async function deletePet(petId) {\r\n    const petRef = doc(db, \"pets\", petId);\r\n    await deleteDoc(petRef);\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}